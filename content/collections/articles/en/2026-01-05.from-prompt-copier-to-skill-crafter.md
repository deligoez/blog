---
id: f5b77021-0446-4fce-ae6d-e34bc5104fb9
published: false
blueprint: articles
title: 'From Prompt Copier to Skill Crafter'
subtitle: 'A Claude Code Guide'
show_toc: true
toc_levels:
  - 1
updated_by: b8f3533e-0fcf-42b9-a3d8-c8691deaf917
updated_at: 1768806781
og_generator_image: from-prompt-copier-to-skill-crafter.jpg
content:
  -
    type: blockquote
    content:
      -
        type: paragraph
        attrs:
          textAlign: left
        content:
          -
            type: text
            text: 'Every time you copy the same instructions, a prompt engineer cries.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I wrote a six-part series on flaky tests. 300+ commits of hard-won lessons, documented in thousands of words.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'And every time I asked Claude to review a test, I found myself pasting the same instructions:'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúCheck for alias mocks‚Äù'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúMake sure time is frozen‚Äù'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúVerify fakes are called before factories‚Äù'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Six articles. Zero checklists at the end. What was I supposed to paste?'
  -
    type: set
    attrs:
      id: skl001
      values:
        type: thought
        position: center-left
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'Wait... Claude Code can read those articles...'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'So I tried something different. Instead of manually extracting patterns, I asked Claude Code to do it.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'What followed was not a one-shot success. It was a journey through four phases: from a rough first draft to a production-ready skill with progressive disclosure and automated validation.'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Phase 1: The Single-File Skill'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Here is the prompt I started with:'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          Convert this 6-part blog series on flaky tests into a Claude Code skill.

          Read all 6 articles and extract ACTIONABLE patterns:
          1. the-flaky-test-chronicles-i-the-reckoning.md
          2. the-flaky-test-chronicles-ii-mock-madness.md
          3. the-flaky-test-chronicles-iii-the-determinism-principle.md
          4. the-flaky-test-chronicles-iv-the-teardown-tango.md
          5. the-flaky-test-chronicles-v-the-abstraction-avalanche.md
          6. the-flaky-test-chronicles-vi-the-reference.md

          For each article:
          1. Skip stories/context
          2. Extract checklists
          3. Extract code examples

          Keep it under 100 lines.
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Claude read all six articles and produced a 60-line skill:'
  -
    type: codeBlock
    attrs:
      language: markdown
    content:
      -
        type: text
        text: |
          ---
          name: flaky-test-reviewer
          description: Review tests for flakiness patterns.
          ---

          ## Priority Order

          **HIGH** - Breaks parallel tests:
          - [ ] No `Mockery::mock('alias:...')` usage
          - [ ] No `Http::sequence()` in parallel tests

          **MEDIUM** - Intermittent failures:
          - [ ] Time frozen with `travelTo(now()->startOfSecond())`
          - [ ] Fakes called BEFORE factory creation
          - [ ] Custom cleanup BEFORE `parent::tearDown()`

          **LOW** - Silent bugs:
          - [ ] Using `assertSame(true, ...)` not `assertTrue()`
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Categories? Check. Priorities? Check. Checklists? Check.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I almost shipped it.'
  -
    type: set
    attrs:
      id: skl002
      values:
        type: thought
        position: center-right
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'But wait... what about the createFromFormat() trap?'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Phase 1 Problems'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I asked Claude to review its own skill against the original articles. The gaps were significant:'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Missing Patterns'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: 'The '
              -
                type: text
                marks:
                  -
                    type: code
                text: createFromFormat()
              -
                type: text
                marks:
                  -
                    type: bold
                text: ' trap'
              -
                type: text
                text: ' - Article III has an entire section on this. '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúIt preserves whatever time components are not in your format string.‚Äù'
              -
                type: text
                text: ' Not in the skill.'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: code
                text: partialMock()
              -
                type: text
                marks:
                  -
                    type: bold
                text: ' requirement'
              -
                type: text
                text: ' - Article II warns about calling '
              -
                type: text
                marks:
                  -
                    type: code
                text: shouldReceive()
              -
                type: text
                text: ' directly on facades. Missing.'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: 'Observable events risk spectrum'
              -
                type: text
                text: ' - Article IV categorizes events by risk (HIGH: external API, MEDIUM: DB updates). The skill just said '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚Äúdisable observable events‚Äù'
              -
                type: text
                text: ' with no nuance.'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Wrong Priorities'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: 'Cache before mock'
              -
                type: text
                text: ' was missing entirely. Article IV shows this causes '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúRun in isolation? Pass. Run full suite? Fail.‚Äù'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: code
                text: startOfSecond()
              -
                type: text
                marks:
                  -
                    type: bold
                text: ' everywhere'
              -
                type: text
                text: ' - Article III recommends '
              -
                type: text
                marks:
                  -
                    type: code
                text: startOfMinute()
              -
                type: text
                text: ' as default. The skill had it backwards.'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Missing WHY'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Every checklist item was a rule without consequence. '
      -
        type: text
        marks:
          -
            type: italic
        text: '‚ÄúNo alias mocks‚Äù'
      -
        type: text
        text: ' tells you WHAT. '
      -
        type: text
        marks:
          -
            type: italic
        text: '‚ÄúNo alias mocks - breaks parallel tests‚Äù'
      -
        type: text
        text: ' tells you WHY.'
  -
    type: set
    attrs:
      id: skl003
      values:
        type: sidenote
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'The first draft is never right. The value is in the iteration.'
        style: warning
        position: right
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Phase 2: The Refined Single-File'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I gave Claude specific feedback:'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          Review the skill against the original articles. You missed:

          1. createFromFormat() trap - add to HIGH priority
          2. partialMock() requirement for facades
          3. Cache before mock - this is HIGH priority
          4. Observable events risk spectrum (HIGH/MEDIUM/LOW)
          5. Passport scopes - 403 often means missing scope

          Fix:
          - startOfMinute() as default, startOfSecond() only when needed

          Add WHY to each item - Claude needs the consequence, not just the rule.
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The second version was better. 100 lines, all major patterns covered, consequences included.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'But as I started using it, I noticed a problem: the skill was getting long. Time patterns, mock patterns, isolation patterns, assertion patterns - all in one file.'
  -
    type: set
    attrs:
      id: skl004
      values:
        type: thought
        position: center-left
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'What if I need to add more patterns later? This file will grow forever...'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Phase 3: Progressive Disclosure'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "Anthropic's skill authoring guidelines have a concept called "
      -
        type: text
        marks:
          -
            type: italic
        text: '‚Äúprogressive disclosure‚Äù'
      -
        type: text
        text: ': keep the main '
      -
        type: text
        marks:
          -
            type: code
        text: SKILL.md
      -
        type: text
        text: ' file as an overview, and link to detailed reference files that Claude loads on-demand.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The benefits:'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: 'Context window economy'
              -
                type: text
                text: ' - Claude only loads what it needs for the current task'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: Maintainability
              -
                type: text
                text: ' - Each pattern category lives in its own file'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: bold
                text: Scalability
              -
                type: text
                text: ' - New patterns can be added without bloating the main file'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I restructured the skill into a folder:'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          flaky-test-reviewer/
          ‚îú‚îÄ‚îÄ SKILL.md                    # Main file (~65 lines)
          ‚îú‚îÄ‚îÄ references/
          ‚îÇ   ‚îú‚îÄ‚îÄ time-patterns.md        # createFromFormat(), freezing, DataProviders
          ‚îÇ   ‚îú‚îÄ‚îÄ mock-patterns.md        # alias, partialMock(), partial fakes
          ‚îÇ   ‚îú‚îÄ‚îÄ isolation-patterns.md   # Storage, events, Sushi, tearDown()
          ‚îÇ   ‚îî‚îÄ‚îÄ assertion-patterns.md   # assertSame(), Money, timestamps
          ‚îî‚îÄ‚îÄ scripts/
              ‚îî‚îÄ‚îÄ validate.php            # Pattern detector (more on this later)
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The main '
      -
        type: text
        marks:
          -
            type: code
        text: SKILL.md
      -
        type: text
        text: ' now looks like this:'
  -
    type: codeBlock
    attrs:
      language: markdown
    content:
      -
        type: text
        text: |
          ---
          name: reviewing-flaky-tests
          description: Reviews PHP/Laravel tests for flakiness patterns. Use when writing tests, debugging CI failures, or reviewing test PRs.
          ---

          # Flaky Test Review

          ## Priority Order

          **HIGH** - Breaks tests unpredictably:
          - [ ] No `alias:` or `overload:` mocks - breaks parallel tests
          - [ ] Cache cleared BEFORE mocking - cache wins over mocks
          - [ ] `createFromFormat()` chains `startOfDay()` - preserves wall clock otherwise
          - [ ] Fakes BEFORE factory creation - afterCreating hooks run immediately

          **MEDIUM** - Intermittent failures:
          - [ ] Time frozen with `startOfMinute()` - startOfSecond() only when needed
          - [ ] `partialMock()` before `shouldReceive()` on facades

          **LOW** - Silent bugs:
          - [ ] `assertSame(true, ...)` not `assertTrue()` - catches boolean casts

          ## Quick Reference

          For detailed patterns and examples:

          - **Time patterns**: See [references/time-patterns.md](references/time-patterns.md)
          - **Mock patterns**: See [references/mock-patterns.md](references/mock-patterns.md)
          - **Isolation patterns**: See [references/isolation-patterns.md](references/isolation-patterns.md)
          - **Assertion patterns**: See [references/assertion-patterns.md](references/assertion-patterns.md)

          ## Observable Events Risk

          | Risk | Examples | Action |
          |------|----------|--------|
          | HIGH | External API, notifications | Always disable |
          | MEDIUM | DB side-effects, cache | Disable if not testing |
          | LOW | UUID generation | Usually safe |
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'When Claude encounters a time-related issue, it reads '
      -
        type: text
        marks:
          -
            type: code
        text: time-patterns.md
      -
        type: text
        text: '. When it needs mock guidance, it reads '
      -
        type: text
        marks:
          -
            type: code
        text: mock-patterns.md
      -
        type: text
        text: '. The other files stay on disk, consuming zero context tokens.'
  -
    type: set
    attrs:
      id: skl005
      values:
        type: sidenote
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'Anthropic recommends keeping '
              -
                type: text
                marks:
                  -
                    type: code
                text: SKILL.md
              -
                type: text
                text: ' under 500 lines. For larger skills, split into reference files.'
        style: tip
        position: right
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Phase 4: The Validation Script'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Skills can include executable scripts that Claude can run. This creates a feedback loop: instead of just reading patterns, Claude can detect them automatically.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'I created a simple regex-based pattern detector:'
  -
    type: codeBlock
    attrs:
      language: php
    content:
      -
        type: text
        text: |
          #!/usr/bin/env php
          <?php
          // scripts/validate.php - Flaky Test Pattern Detector

          $file = $argv[1] ?? null;
          if (!$file || !file_exists($file)) {
              echo "Usage: php validate.php <TestFile.php>\n";
              exit(1);
          }

          $content = file_get_contents($file);
          $issues = [];

          // HIGH priority
          if (preg_match("/Mockery::mock\(['\"]alias:/", $content)) {
              $issues[] = ['HIGH', 'alias mock detected - breaks parallel tests'];
          }

          if (preg_match("/createFromFormat\([^)]+\)(?!->startOf)/", $content)) {
              $issues[] = ['HIGH', 'createFromFormat without startOfDay()'];
          }

          // MEDIUM priority
          if (!preg_match("/travelTo|Carbon::setTestNow/", $content)) {
              if (preg_match("/now\(\)/", $content)) {
                  $issues[] = ['MEDIUM', 'Uses now() but no time freezing detected'];
              }
          }

          // Output
          foreach ($issues as [$priority, $message]) {
              echo "[$priority] $message\n";
          }

          echo count($issues)
              ? "\n‚ö†Ô∏è  " . count($issues) . " potential issues found\n"
              : "‚úÖ No obvious flaky patterns detected\n";
  -
    type: set
    attrs:
      id: skl006
      values:
        type: sidenote
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'This is regex-based for simplicity. For more accurate detection, consider nikic/php-parser for AST analysis.'
        style: note
        position: right
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Now Claude can run the script before giving feedback:'
  -
    type: codeBlock
    attrs:
      language: bash
    content:
      -
        type: text
        text: |
          php .claude/skills/flaky-test-reviewer/scripts/validate.php tests/OrderTest.php
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The script finds issues automatically, and Claude provides context from the reference files. Best of both worlds.'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Real Usage Examples'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Here is what the skill looks like in action:'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Example 1: CI Failure Debug'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          User: "This test passes locally but fails randomly in CI"

          Claude: [runs validate.php, reads time-patterns.md]

          "I found 2 HIGH priority issues:

          1. Line 23: `Carbon::createFromFormat('Y-m-d', $date)`
             ‚Üí This preserves the current wall clock time for components not in the format.
             ‚Üí Fix: Chain `.startOfDay()` to reset the time portion.

          2. Line 45: `Notification::fake()` is called AFTER the factory.
             ‚Üí The factory's afterCreating hook already sent the notification.
             ‚Üí Fix: Move `Notification::fake()` before the factory call.

          Here are the fixes:"

          // Before
          $order = Order::factory()->create();
          Notification::fake();

          // After
          Notification::fake();
          $order = Order::factory()->create();
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Example 2: PR Review'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          User: "Can you review this test PR?"

          Claude: [runs validate.php, reads mock-patterns.md]

          "Review complete. 1 issue, 1 suggestion:

          ‚ö†Ô∏è  MEDIUM (Line 67): `Bus::fake()` without specific jobs.
             You're faking ALL jobs, but this test only cares about SendWelcomeEmail.
             Other jobs that should run are now silent.
             ‚Üí Fix: `Bus::fake([SendWelcomeEmail::class])`

          üí° TIP (Line 34): `assertTrue($user->isActive())`
             This passes even if isActive() returns 1 instead of true.
             Consider: `assertSame(true, $user->isActive())`
          "
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Example 3: Writing New Tests'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          User: "Help me write a test for this payment flow"

          Claude: [reads SKILL.md priority order]

          "Before we start, here's my flaky test checklist for payment flows:

          ‚úì Time freezing (payments are time-sensitive)
          ‚úì Notification::fake() BEFORE creating orders
          ‚úì No alias mocks for the payment gateway
          ‚úì Passport scopes if using API authentication

          Let me write the test with these patterns built in:"

          public function test_payment_processes_successfully(): void
          {
              // Freeze time first
              $this->travelTo(now()->startOfMinute());

              // Fake notifications before factory
              Notification::fake();

              // Use container binding, not alias mock
              $this->app->bind(PaymentGateway::class, FakeGateway::class);

              // Include required scopes
              Passport::actingAs($user, ['process-payments']);

              // ... test code
          }
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Why This Works'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "These patterns come directly from Anthropic's skill authoring guidelines. Here is the reasoning:"
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'The Context Window is a Public Good'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Every token in your skill competes with conversation history, other skills, and your actual request. The 100-line limit is not arbitrary. It is strategic.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'When Claude loads your skill, those tokens are no longer available for understanding your code or generating responses. A bloated skill actively hurts performance.'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Claude is Already Smart'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "This is Anthropic's default assumption when writing skills. Don't explain what mocks are. Don't document PHP syntax. Don't describe how factories work."
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "Only add context Claude doesn't already have. Challenge each piece of information: "
      -
        type: text
        marks:
          -
            type: italic
        text: '‚ÄúDoes Claude really need this explanation?‚Äù'
  -
    type: set
    attrs:
      id: skl007
      values:
        type: sidenote
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'A verbose skill wastes 100+ tokens explaining concepts Claude already knows. Skip it.'
        style: note
        position: right
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Consequences Over Rules'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        marks:
          -
            type: italic
        text: '‚ÄúNo alias mocks‚Äù'
      -
        type: text
        text: ' is a rule Claude might skip. '
      -
        type: text
        marks:
          -
            type: italic
        text: '‚ÄúNo alias mocks - breaks parallel tests‚Äù'
      -
        type: text
        text: ' is a consequence Claude will remember.'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The WHY transforms a checklist item from '
      -
        type: text
        marks:
          -
            type: italic
        text: '‚Äúsomething to check‚Äù'
      -
        type: text
        text: ' into '
      -
        type: text
        marks:
          -
            type: italic
        text: '‚Äúsomething that will hurt if ignored.‚Äù'
      -
        type: text
        text: ' Claude prioritizes accordingly.'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Degrees of Freedom'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Match specificity to fragility. Database migrations need exact commands. Code reviews need general principles. Flaky test patterns sit in the middle: specific enough to catch issues, flexible enough to apply across codebases.'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Try It Yourself'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Naming Conventions'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "Before writing your skill, two conventions from Anthropic's guidelines:"
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        marks:
          -
            type: bold
        text: 'Skill name:'
      -
        type: text
        text: ' gerund form (verb-ing). This clearly describes the activity.'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Good: '
              -
                type: text
                marks:
                  -
                    type: code
                text: reviewing-tests
              -
                type: text
                text: ', '
              -
                type: text
                marks:
                  -
                    type: code
                text: analyzing-logs
              -
                type: text
                text: ', '
              -
                type: text
                marks:
                  -
                    type: code
                text: processing-pdfs
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Avoid: '
              -
                type: text
                marks:
                  -
                    type: code
                text: test-helper
              -
                type: text
                text: ', '
              -
                type: text
                marks:
                  -
                    type: code
                text: utils
              -
                type: text
                text: ', '
              -
                type: text
                marks:
                  -
                    type: code
                text: tools
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        marks:
          -
            type: bold
        text: 'Description:'
      -
        type: text
        text: ' always third-person. The description is injected into the system prompt.'
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Good: '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúReviews PHP tests for flakiness patterns‚Äù'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Avoid: '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúI help you review tests‚Äù'
              -
                type: text
                text: ' or '
              -
                type: text
                marks:
                  -
                    type: italic
                text: '‚ÄúUse this to review tests‚Äù'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'The Template'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Here is the prompt that extracts skills from content:'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          Convert [YOUR CONTENT] into a Claude Code skill.

          Read these files:
          - [path/to/file1]
          - [path/to/file2]

          Extract:
          1. Checklists with WHY (consequence, not just rule)
          2. Code examples (before/after)
          3. Priority order (HIGH/MEDIUM/LOW with impact description)

          Skip:
          - Stories and context
          - Generic documentation (link to it instead)
          - Explanations Claude already knows (what mocks are, how factories work)

          Output format:
          ```markdown
          ---
          name: reviewing-[domain]  # gerund form (verb-ing)
          description: Reviews [X] for [Y]. Use when [trigger].  # third-person!
          ---

          ## Priority Order
          **HIGH** - [Impact description]:
          - [ ] Pattern - consequence

          ## Quick Checks
          [Categorized checklists]

          ## Common Fixes
          [Code examples with comments explaining WHY]
          ```

          Remember: Claude is smart. Only add what it doesn't know.
          Keep under 100 lines. Include consequences.
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Then iterate:'
  -
    type: orderedList
    attrs:
      start: 1
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Generate v1'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Ask Claude to review v1 against source material'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Fix gaps, wrong priorities, bloat'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'If skill exceeds 100 lines, split into '
              -
                type: text
                marks:
                  -
                    type: code
                text: references/
              -
                type: text
                text: ' folder'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Consider adding a validation script for automated detection'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Test on real usage, not imagined scenarios'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                text: 'Ship when it catches what you would catch manually'
  -
    type: set
    attrs:
      id: skl008
      values:
        type: sidenote
        content:
          -
            type: paragraph
            content:
              -
                type: text
                text: 'Works with: blog series, internal docs, Notion pages, code comments, Slack conversations you keep referencing.'
        style: tip
        position: right
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'The Review Prompt'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'This is the prompt that finds the gaps:'
  -
    type: codeBlock
    attrs:
      language: text
    content:
      -
        type: text
        text: |
          Review this skill against the original source material.

          Find:
          1. Missing patterns - what's in the source but not the skill?
          2. Wrong priorities - what should be higher/lower?
          3. Unnecessary items - what's bloat?
          4. Unclear items - what needs a WHY?

          Be specific. Quote from sources to prove your points.
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: 'Using the Skill'
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Claude Code'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Copy the entire folder to '
      -
        type: text
        marks:
          -
            type: code
        text: .claude/skills/
      -
        type: text
        text: ' (project) or '
      -
        type: text
        marks:
          -
            type: code
        text: ~/.claude/skills/
      -
        type: text
        text: ' (personal). Auto-discovered.'
  -
    type: codeBlock
    attrs:
      language: bash
    content:
      -
        type: text
        text: |
          # Clone the skill folder
          git clone https://gist.github.com/.../flaky-test-reviewer .claude/skills/flaky-test-reviewer
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: 'Claude Web'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'For single-file skills, add as a Project file or paste into Custom Instructions. Multi-file skills are not supported in Claude Web.'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 1
    content:
      -
        type: text
        text: Summary
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'The journey from copy-pasting instructions to a production skill:'
  -
    type: table
    content:
      -
        type: tableRow
        content:
          -
            type: tableHeader
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    marks:
                      -
                        type: bold
                    text: Phase
          -
            type: tableHeader
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    marks:
                      -
                        type: bold
                    text: 'What Changed'
          -
            type: tableHeader
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    marks:
                      -
                        type: bold
                    text: Lines
      -
        type: tableRow
        content:
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '1. Single-file v1'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: 'Basic extraction, missing patterns'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '60'
      -
        type: tableRow
        content:
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '2. Single-file v2'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: 'All patterns, consequences added'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '100'
      -
        type: tableRow
        content:
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '3. Progressive disclosure'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: 'Split into '
                  -
                    type: text
                    marks:
                      -
                        type: code
                    text: references/
                  -
                    type: text
                    text: ', on-demand loading'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '65 + 4 refs'
      -
        type: tableRow
        content:
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '4. Validation script'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: 'Automated pattern detection'
          -
            type: tableCell
            attrs:
              colspan: 1
              rowspan: 1
              colwidth: null
            content:
              -
                type: paragraph
                attrs:
                  textAlign: left
                content:
                  -
                    type: text
                    text: '+ validate.php'
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: 'Six articles. Four iterations. One skill folder. Zero copy-pasting.'
  -
    type: horizontalRule
  -
    type: heading
    attrs:
      textAlign: left
      level: 2
    content:
      -
        type: text
        text: Sources
  -
    type: paragraph
    attrs:
      textAlign: left
    content:
      -
        type: text
        text: "The principles in this article come from Anthropic's official documentation:"
  -
    type: bulletList
    content:
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: link
                    attrs:
                      href: 'https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices'
                      rel: null
                      target: _blank
                      title: null
                text: 'Skill Authoring Best Practices'
              -
                type: text
                text: ' - Context window economy, progressive disclosure, degrees of freedom'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: link
                    attrs:
                      href: 'https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/claude-4-best-practices'
                      rel: null
                      target: _blank
                      title: null
                text: 'Claude 4 Prompting Best Practices'
              -
                type: text
                text: ' - Explicit instructions, checklist patterns, validation loops'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: link
                    attrs:
                      href: 'https://www.anthropic.com/engineering/claude-code-best-practices'
                      rel: null
                      target: _blank
                      title: null
                text: 'Claude Code: Best Practices for Agentic Coding'
              -
                type: text
                text: ' - Custom commands, prompt templates, specificity patterns'
      -
        type: listItem
        content:
          -
            type: paragraph
            attrs:
              textAlign: left
            content:
              -
                type: text
                marks:
                  -
                    type: link
                    attrs:
                      href: 'https://leehanchung.github.io/blogs/2025/10/26/claude-skills-deep-dive/'
                      rel: null
                      target: _blank
                      title: null
                text: 'Claude Agent Skills: A First Principles Deep Dive'
              -
                type: text
                text: ' - Architecture and design patterns for skills'
---
