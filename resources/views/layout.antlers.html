<!DOCTYPE html>
<html lang="{{ site:short_locale }}" x-data="darkMode()" x-bind:class="{ 'dark': dark }">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{ seo_pro:meta }}

    {{ partial:partials/favicon }}

    {{ og_generator:og_image }}
    <meta property="og:logo" content="{{ config:app:url }}/android-chrome-512x512.png" />

    <!-- Iosevka monospace font for code display -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Iosevka/11.1.1/iosevka/iosevka.min.css" integrity="sha512-3hU20586NsplKRzjf2jQN5vTRTI2EsXObrHDOBLGdkiRkneg699BlmBXWGHHFHADCF3TOk2BREsVy7qTkmvQqQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script>
        // Prevent FOUC - apply dark mode before render
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        }
    </script>

    {{ vite src="resources/js/site.js" }}
</head>
<body class="subpixel-antialiased font-serif mx-2 md:mx-3 lg:mx-4 min-h-full bg-white dark:bg-gray-950 text-black dark:text-gray-100 transition-colors duration-200">
    {{ partial:partials/header }}

    {{ template_content }}

    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js'
            data-cf-beacon='{"token": "84ad862b858645c7a016a0a9e0527d7a"}'>
    </script>
    <!-- End Cloudflare Web Analytics -->
</body>
</html>

